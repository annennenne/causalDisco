<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Visualization • causalDisco</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualization">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">causalDisco</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.5.9049</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/causalDisco.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/causal-discovery.html">Causal Discovery</a></li>
    <li><a class="dropdown-item" href="../articles/knowledge.html">Knowledge</a></li>
    <li><a class="dropdown-item" href="../articles/new-algorithm.html">Extending causalDisco with New Algorithms</a></li>
    <li><a class="dropdown-item" href="../articles/visualization.html">Visualization</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/disco-coders/causalDisco/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Visualization</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/disco-coders/causalDisco/blob/main/vignettes/visualization.Rmd" class="external-link"><code>vignettes/visualization.Rmd</code></a></small>
      <div class="d-none name"><code>visualization.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/disco-coders/causalDisco" class="external-link">causalDisco</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; causalDisco startup:</span></span>
<span><span class="co">#&gt;   Java heap size requested: 2 GB</span></span>
<span><span class="co">#&gt;   Tetrad version: 7.6.10</span></span>
<span><span class="co">#&gt;   Java successfully initialized with 2 GB.</span></span>
<span><span class="co">#&gt;   To change heap size, set options(java.heap.size = 'Ng') or Sys.setenv(JAVA_HEAP_SIZE = 'Ng') *before* loading.</span></span>
<span><span class="co">#&gt;   Restart R to apply changes.</span></span></code></pre></div>
<p>This vignette demonstrates how to visualize causal graphs. We cover
plotting <code>knowledge</code> objects and
<code>knowledgeable_caugi</code> objects, customizing layouts and
styles, and exporting graphs to readable TikZ for inclusion and further
customization in LaTeX documents.</p>
<div class="section level2">
<h2 id="plotting">Plotting<a class="anchor" aria-label="anchor" href="#plotting"></a>
</h2>
<p>You can visualize causal graphs using the <code><a href="../reference/plot.html">plot()</a></code>
function, which works for both <code>knowledge</code> and
<code>knowledgeable_caugi</code> objects. The function leverages the
underlying <code><a href="https://caugi.org/reference/plot.html" class="external-link">caugi::plot()</a></code> method, providing flexible options
for customizing the appearance of nodes and edges.</p>
<div class="section level3">
<h3 id="plotting-knowledge-objects">Plotting Knowledge Objects<a class="anchor" aria-label="anchor" href="#plotting-knowledge-objects"></a>
</h3>
<p>We start by creating a simple knowledge object and visualizing it
with <code><a href="../reference/plot.html">plot()</a></code>. This knowledge encodes the following
relationships between variables in our dataset:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">num_data</span><span class="op">)</span></span>
<span><span class="va">kn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knowledge.html">knowledge</a></span><span class="op">(</span></span>
<span>  <span class="va">num_data</span>,</span>
<span>  <span class="va">X1</span> <span class="op">%--&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">X2</span>, <span class="va">X3</span><span class="op">)</span>, <span class="co"># Require edge from X1 to X2, and X1 to X3</span></span>
<span>  <span class="va">X2</span> <span class="op">%!--&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">X3</span>, <span class="va">Y</span><span class="op">)</span>, <span class="co"># Forbid edge from X2 to X3, and X2 to Y</span></span>
<span>  <span class="va">Y</span> <span class="op">%!--&gt;%</span> <span class="va">Z</span>  <span class="co"># Forbid edge from Y to Z</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">kn</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/knowledge%20plot-1.png" class="r-plt" alt="" width="700"></p>
<p>By default, required edges are shown in blue and forbidden edges in
red. You can customize these colors using the <code>required_col</code>
and <code>forbidden_col</code> arguments:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">kn</span>, required_col <span class="op">=</span> <span class="st">"skyblue"</span>, forbidden_col <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/knowledge%20plot%20different%20colors-1.png" class="r-plt" alt="" width="700"></p>
<p>Different node layouts, node styles, and edge styles can be specified
using the <code>layout</code>, <code>node_style</code>, and
<code>edge_style</code> parameters. We provide a quick example and refer
to the <code><a href="../reference/plot.html">causalDisco::plot()</a></code> function (and the underlying
<code><a href="https://caugi.org/reference/plot.html" class="external-link">caugi::plot()</a></code> function) documentation for more details.
Here we use the “fruchterman-reingold” layout and customize node and
edge styles:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">kn</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"fruchterman-reingold"</span>,</span>
<span>  node_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"lightblue"</span>, <span class="co"># Fill color</span></span>
<span>    col <span class="op">=</span> <span class="st">"darkblue"</span>, <span class="co"># Border color</span></span>
<span>    lwd <span class="op">=</span> <span class="fl">2</span>, <span class="co"># Border width</span></span>
<span>    padding <span class="op">=</span> <span class="fl">4</span>, <span class="co"># Text padding (mm)</span></span>
<span>    size <span class="op">=</span> <span class="fl">1.2</span> <span class="co"># Size multiplier</span></span>
<span>  <span class="op">)</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    lwd <span class="op">=</span> <span class="fl">1.5</span>, <span class="co"># Edge width</span></span>
<span>    arrow_size <span class="op">=</span> <span class="fl">4</span> <span class="co"># Arrow size (mm)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/knowledge%20plot%20custom%20styles-1.png" class="r-plt" alt="" width="700"></p>
<p>You can also pass a custom layout to <code><a href="../reference/plot.html">plot()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_layout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X1"</span>, <span class="st">"X2"</span>, <span class="st">"X3"</span>, <span class="st">"Y"</span>, <span class="st">"Z"</span><span class="op">)</span>,</span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">kn</span>, layout <span class="op">=</span> <span class="va">my_layout</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/unnamed-chunk-2-1.png" class="r-plt" alt="" width="700"></p>
<div class="section level4">
<h4 id="plotting-tiered-knowledge">Plotting Tiered Knowledge<a class="anchor" aria-label="anchor" href="#plotting-tiered-knowledge"></a>
</h4>
<p>We can also visualize tiered knowledge structures. Here is an example
using a dataset with variables measured at different life stages:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">tpc_example</span><span class="op">)</span></span>
<span><span class="va">kn_tiered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knowledge.html">knowledge</a></span><span class="op">(</span></span>
<span>  <span class="va">tpc_example</span>,</span>
<span>  <span class="fu">tier</span><span class="op">(</span></span>
<span>    <span class="va">child</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"child"</span><span class="op">)</span>, <span class="co"># tidyselect helper; equivalent to c("child_x1", "child_x2")</span></span>
<span>    <span class="va">youth</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"youth"</span><span class="op">)</span>,</span>
<span>    <span class="va">old</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"old"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="va">child_x1</span> <span class="op">%--&gt;%</span> <span class="va">child_x2</span>,</span>
<span>  <span class="va">child_x2</span> <span class="op">%!--&gt;%</span> <span class="va">youth_x3</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">kn_tiered</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tiered%20knowledge%20plot-1.png" class="r-plt" alt="" width="700"></p>
<p>Variables are grouped by life stage, reflecting the tiered structure.
This helps visually convey temporal or hierarchical relationships in the
data.</p>
</div>
</div>
<div class="section level3">
<h3 id="plotting-knowledgeable-caugi-objects">Plotting Knowledgeable Caugi Objects<a class="anchor" aria-label="anchor" href="#plotting-knowledgeable-caugi-objects"></a>
</h3>
<p>Here we run a causal discovery algorithm to get a
<code>knowledgeable_caugi</code>, which is the knowledge object
alongside the learned causal graph as a <code>caugi</code> object. We
can then plot this combined object to see both the prior knowledge and
the learned relationships</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">num_data</span><span class="op">)</span></span>
<span><span class="va">kn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knowledge.html">knowledge</a></span><span class="op">(</span></span>
<span>  <span class="va">num_data</span>,</span>
<span>  <span class="va">X1</span> <span class="op">%--&gt;%</span> <span class="va">X2</span>,</span>
<span>  <span class="va">X2</span> <span class="op">%!--&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">X3</span>, <span class="va">Y</span><span class="op">)</span>,</span>
<span>  <span class="va">Y</span> <span class="op">%!--&gt;%</span> <span class="va">Z</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">pc_bnlearn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pc.html">pc</a></span><span class="op">(</span>engine <span class="op">=</span> <span class="st">"bnlearn"</span>, test <span class="op">=</span> <span class="st">"fisher_z"</span><span class="op">)</span></span>
<span><span class="va">pc_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/disco.html">disco</a></span><span class="op">(</span><span class="va">num_data</span>, method <span class="op">=</span> <span class="va">pc_bnlearn</span>, knowledge <span class="op">=</span> <span class="va">kn</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">pc_result</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/knowledgeable%20caugi%20plot-1.png" class="r-plt" alt="" width="700"></p>
<p>Blue edges indicate required relationships from prior knowledge,
black edges show those learned from the data, and forbidden edges are
not plotted (to avoid confusion and clutter).</p>
<p>With tiered knowledge, the plotting works similarly:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">tpc_example</span><span class="op">)</span></span>
<span><span class="va">kn_tiered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knowledge.html">knowledge</a></span><span class="op">(</span></span>
<span>  <span class="va">tpc_example</span>,</span>
<span>  <span class="fu">tier</span><span class="op">(</span></span>
<span>    <span class="va">child</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"child"</span><span class="op">)</span>,</span>
<span>    <span class="va">youth</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"youth"</span><span class="op">)</span>,</span>
<span>    <span class="va">old</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"old"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">cd_tges</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tges.html">tges</a></span><span class="op">(</span>engine <span class="op">=</span> <span class="st">"causalDisco"</span>, score <span class="op">=</span> <span class="st">"tbic"</span><span class="op">)</span></span>
<span><span class="va">disco_cd_tges</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/disco.html">disco</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">tpc_example</span>, method <span class="op">=</span> <span class="va">cd_tges</span>, knowledge <span class="op">=</span> <span class="va">kn_tiered</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">disco_cd_tges</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/knowledgeable%20caugi%20tiered%20plot-1.png" class="r-plt" alt="" width="700"></p>
<p>Where we can see the tiers reflected in the layout of the graph.</p>
</div>
</div>
<div class="section level2">
<h2 id="exporting-to-tikz">Exporting to TikZ<a class="anchor" aria-label="anchor" href="#exporting-to-tikz"></a>
</h2>
<p>The <code><a href="../reference/make_tikz.html">make_tikz()</a></code> function exports plots as clean, fully
editable TikZ code for inclusion in LaTeX documents.</p>
<p>Unlike some graph export tools, edges are attached to nodes rather
than positioned using hard-coded coordinates, making the output easier
to modify.</p>
<p>This functionality works for <code>knowledge</code>,
<code>knowledgeable_caugi</code>, and <code><a href="https://caugi.org/reference/caugi.html" class="external-link">caugi::caugi</a></code> objects,
allowing you to customize layouts, styles, and edges further in your
LaTeX document. It calls the underlying <code><a href="../reference/plot.html">causalDisco::plot()</a></code>
method (which calls <code><a href="https://caugi.org/reference/plot.html" class="external-link">caugi::plot()</a></code>) to generate the initial
plot object before converting it to TikZ code. Thus, you can supply any
arguments to <code><a href="../reference/make_tikz.html">make_tikz()</a></code> that are supported by
<code><a href="../reference/plot.html">causalDisco::plot()</a></code> and <code><a href="https://caugi.org/reference/plot.html" class="external-link">caugi::plot()</a></code>.</p>
<div class="section level3">
<h3 id="exporting-knowledge-to-tikz">Exporting Knowledge to TikZ<a class="anchor" aria-label="anchor" href="#exporting-knowledge-to-tikz"></a>
</h3>
<p>We first demonstrate TikZ export for a <code>knowledge</code>
object.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">num_data</span><span class="op">)</span></span>
<span><span class="va">kn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knowledge.html">knowledge</a></span><span class="op">(</span></span>
<span>  <span class="va">num_data</span>,</span>
<span>  <span class="va">X1</span> <span class="op">%--&gt;%</span> <span class="va">X2</span>,</span>
<span>  <span class="va">X2</span> <span class="op">%!--&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">X3</span>, <span class="va">Y</span><span class="op">)</span>,</span>
<span>  <span class="va">Y</span> <span class="op">%!--&gt;%</span> <span class="va">Z</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Full standalone document</span></span>
<span><span class="va">tikz_knowledge_code</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_tikz.html">make_tikz</a></span><span class="op">(</span><span class="va">kn</span>, scale <span class="op">=</span> <span class="fl">10</span>, full_doc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">tikz_knowledge_code</span><span class="op">)</span></span>
<span><span class="co">#&gt; %%% Generated by causalDisco (version 0.9.5.9049)</span></span>
<span><span class="co">#&gt; \documentclass[tikz,border=2mm]{standalone}</span></span>
<span><span class="co">#&gt; \usetikzlibrary{arrows.meta, positioning, shapes.geometric, fit, backgrounds, calc}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; \begin{document}</span></span>
<span><span class="co">#&gt; \tikzset{every node/.style={fill=lightgray}, every path/.style={draw=red}}</span></span>
<span><span class="co">#&gt; \tikzset{arrows={[scale=3]}, arrow/.style={-{Stealth}, thick}}</span></span>
<span><span class="co">#&gt; \begin{tikzpicture}</span></span>
<span><span class="co">#&gt; \node[draw, circle] (X1) at (1.667,0) {X1};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (X2) at (1.667,3.333) {X2};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (X3) at (3.333,6.667) {X3};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (Y) at (0,6.667) {Y};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (Z) at (0,10) {Z};</span></span>
<span><span class="co">#&gt; \path (X1) edge[draw=blue, -Latex] (X2)</span></span>
<span><span class="co">#&gt;       (X2) edge[, -Latex] (X3)</span></span>
<span><span class="co">#&gt;       (X2) edge[, -Latex] (Y)</span></span>
<span><span class="co">#&gt;       (Y) edge[, -Latex] (Z);</span></span>
<span><span class="co">#&gt; \end{tikzpicture}</span></span>
<span><span class="co">#&gt; \end{document}</span></span>
<span></span>
<span><span class="co"># Only the tikzpicture environment</span></span>
<span><span class="va">tikz_knowledge_snippet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_tikz.html">make_tikz</a></span><span class="op">(</span><span class="va">kn</span>, scale <span class="op">=</span> <span class="fl">10</span>, full_doc <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">tikz_knowledge_snippet</span><span class="op">)</span></span>
<span><span class="co">#&gt; %%% Generated by causalDisco (version 0.9.5.9049)</span></span>
<span><span class="co">#&gt; \tikzset{every node/.style={fill=lightgray}, every path/.style={draw=red}}</span></span>
<span><span class="co">#&gt; \tikzset{arrows={[scale=3]}, arrow/.style={-{Stealth}, thick}}</span></span>
<span><span class="co">#&gt; \begin{tikzpicture}</span></span>
<span><span class="co">#&gt; \node[draw, circle] (X1) at (1.667,0) {X1};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (X2) at (1.667,3.333) {X2};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (X3) at (3.333,6.667) {X3};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (Y) at (0,6.667) {Y};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (Z) at (0,10) {Z};</span></span>
<span><span class="co">#&gt; \path (X1) edge[draw=blue, -Latex] (X2)</span></span>
<span><span class="co">#&gt;       (X2) edge[, -Latex] (X3)</span></span>
<span><span class="co">#&gt;       (X2) edge[, -Latex] (Y)</span></span>
<span><span class="co">#&gt;       (Y) edge[, -Latex] (Z);</span></span>
<span><span class="co">#&gt; \end{tikzpicture}</span></span></code></pre></div>
<p>Setting <code>full_doc = TRUE</code> generates a complete standalone
LaTeX document that can be compiled directly. Using
<code>full_doc = FALSE</code> instead returns only the tikzpicture
environment, which is convenient for inclusion inside an existing LaTeX
document.</p>
<p>The TikZ export also supports edge bending, which can substantially
improve readability when edges passes thorugh other nodes, as can easily
happen in tiered knowledge structures. This feature is not available in
the standard <code><a href="https://caugi.org/reference/plot.html" class="external-link">caugi::plot()</a></code> function. Here is an example,
where the edge using the standard straight style edge overlaps the node
<code>youth_x3</code>, while the bent edge avoids this overlap:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">tpc_example</span><span class="op">)</span></span>
<span><span class="va">kn_tiered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knowledge.html">knowledge</a></span><span class="op">(</span></span>
<span>  <span class="va">tpc_example</span>,</span>
<span>  <span class="fu">tier</span><span class="op">(</span></span>
<span>    <span class="va">child</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"child"</span><span class="op">)</span>,</span>
<span>    <span class="va">youth</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"youth"</span><span class="op">)</span>,</span>
<span>    <span class="va">old</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"old"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="va">child_x1</span> <span class="op">%--&gt;%</span> <span class="va">oldage_x5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">kn_tiered</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tikz%20bend%20edges-1.png" class="r-plt" alt="" width="700"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">tikz_bent_tiered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_tikz.html">make_tikz</a></span><span class="op">(</span></span>
<span>  <span class="va">kn_tiered</span>,</span>
<span>  scale <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  full_doc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  bend_edges <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  bend_angle <span class="op">=</span> <span class="fl">20</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">tikz_bent_tiered</span><span class="op">)</span></span>
<span><span class="co">#&gt; %%% Generated by causalDisco (version 0.9.5.9049)</span></span>
<span><span class="co">#&gt; \tikzset{every node/.style={fill=lightgray}, every path/.style={draw=blue}}</span></span>
<span><span class="co">#&gt; \tikzset{arrows={[scale=3]}, arrow/.style={-{Stealth}, thick}}</span></span>
<span><span class="co">#&gt; \begin{tikzpicture}</span></span>
<span><span class="co">#&gt; \node[draw, circle] (child_x1) at (0,0) {child\_x1};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (child_x2) at (0,10) {child\_x2};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (youth_x3) at (5,0) {youth\_x3};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (youth_x4) at (5,10) {youth\_x4};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (oldage_x5) at (10,0) {oldage\_x5};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (oldage_x6) at (10,10) {oldage\_x6};</span></span>
<span><span class="co">#&gt; \begin{scope}[on background layer]</span></span>
<span><span class="co">#&gt; \node[draw, rectangle, fill=blue!20, rounded corners, inner sep=0.5cm, fit=(child_x1)(child_x2)] (child) {};</span></span>
<span><span class="co">#&gt; \node[draw, rectangle, fill=blue!20, rounded corners, inner sep=0.5cm, fit=(oldage_x5)(oldage_x6)] (old) {};</span></span>
<span><span class="co">#&gt; \node[draw, rectangle, fill=blue!20, rounded corners, inner sep=0.5cm, fit=(youth_x3)(youth_x4)] (youth) {};</span></span>
<span><span class="co">#&gt; \end{scope}</span></span>
<span><span class="co">#&gt; \node[anchor=south, draw=none, fill=none] at ($(child.north)+(0cm,0.2cm)$) {child};</span></span>
<span><span class="co">#&gt; \node[anchor=south, draw=none, fill=none] at ($(old.north)+(0cm,0.2cm)$) {old};</span></span>
<span><span class="co">#&gt; \node[anchor=south, draw=none, fill=none] at ($(youth.north)+(0cm,0.2cm)$) {youth};</span></span>
<span><span class="co">#&gt; \path (child_x1) edge[bend left=20, -Latex] (oldage_x5);</span></span>
<span><span class="co">#&gt; \end{tikzpicture}</span></span></code></pre></div>
<p>The TikZ plot can be seen here:</p>
<p><img src="tikz-tier-plot.png"></p>
</div>
<div class="section level3">
<h3 id="exporting-knowledgeable-caugi-to-tikz">Exporting Knowledgeable Caugi to TikZ<a class="anchor" aria-label="anchor" href="#exporting-knowledgeable-caugi-to-tikz"></a>
</h3>
<p>The output of <code><a href="../reference/disco.html">disco()</a></code> gives a
<code>knowledgeable_caugi</code> object, which can also be exported to
TikZ:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">tpc_example</span><span class="op">)</span></span>
<span><span class="va">kn_tiered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knowledge.html">knowledge</a></span><span class="op">(</span></span>
<span>  <span class="va">tpc_example</span>,</span>
<span>  <span class="fu">tier</span><span class="op">(</span></span>
<span>    <span class="va">child</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"child"</span><span class="op">)</span>,</span>
<span>    <span class="va">youth</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"youth"</span><span class="op">)</span>,</span>
<span>    <span class="va">old</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"old"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">tiers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  child <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"child_x1"</span>, <span class="st">"child_x2"</span><span class="op">)</span>,</span>
<span>  youth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"youth_x3"</span>, <span class="st">"youth_x4"</span><span class="op">)</span>,</span>
<span>  old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"oldage_x5"</span>, <span class="st">"oldage_x6"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cd_tges</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tges.html">tges</a></span><span class="op">(</span>engine <span class="op">=</span> <span class="st">"causalDisco"</span>, score <span class="op">=</span> <span class="st">"tbic"</span><span class="op">)</span></span>
<span><span class="va">disco_cd_tges</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/disco.html">disco</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">tpc_example</span>, method <span class="op">=</span> <span class="va">cd_tges</span>, knowledge <span class="op">=</span> <span class="va">kn_tiered</span><span class="op">)</span></span>
<span></span>
<span><span class="va">disco_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">disco_cd_tges</span><span class="op">)</span></span>
<span><span class="va">tikz_snippet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_tikz.html">make_tikz</a></span><span class="op">(</span><span class="va">disco_plot</span>, tier_node_map <span class="op">=</span> <span class="va">tiers</span>, scale <span class="op">=</span> <span class="fl">10</span>, full_doc <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tikz%20export%20knowledgeable%20caugi-1.png" class="r-plt" alt="" width="700"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">tikz_snippet</span><span class="op">)</span></span>
<span><span class="co">#&gt; %%% Generated by causalDisco (version 0.9.5.9049)</span></span>
<span><span class="co">#&gt; \tikzset{every node/.style={fill=lightgray}}</span></span>
<span><span class="co">#&gt; \tikzset{arrows={[scale=3]}, arrow/.style={-{Stealth}, thick}}</span></span>
<span><span class="co">#&gt; \begin{tikzpicture}</span></span>
<span><span class="co">#&gt; \node[draw, circle] (child_x2) at (0,0) {child\_x2};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (child_x1) at (0,10) {child\_x1};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (youth_x4) at (5,0) {youth\_x4};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (youth_x3) at (5,10) {youth\_x3};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (oldage_x6) at (10,0) {oldage\_x6};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (oldage_x5) at (10,10) {oldage\_x5};</span></span>
<span><span class="co">#&gt; \path (child_x1) edge[, -] (child_x2)</span></span>
<span><span class="co">#&gt;       (child_x2) edge[, -Latex] (oldage_x5)</span></span>
<span><span class="co">#&gt;       (child_x2) edge[, -Latex] (youth_x4)</span></span>
<span><span class="co">#&gt;       (oldage_x5) edge[, -Latex] (oldage_x6)</span></span>
<span><span class="co">#&gt;       (youth_x3) edge[, -Latex] (oldage_x5)</span></span>
<span><span class="co">#&gt;       (youth_x4) edge[, -Latex] (oldage_x6);</span></span>
<span><span class="co">#&gt; \end{tikzpicture}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="exporting-caugi-objects-to-tikz">Exporting Caugi Objects to TikZ<a class="anchor" aria-label="anchor" href="#exporting-caugi-objects-to-tikz"></a>
</h3>
<p>The same export mechanism also applies to standard <code>caugi</code>
objects:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cg</span> <span class="op">&lt;-</span> <span class="fu">caugi</span><span class="fu">::</span><span class="fu"><a href="https://caugi.org/reference/caugi.html" class="external-link">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op">%--&gt;%</span> <span class="va">B</span> <span class="op">+</span> <span class="va">C</span></span>
<span><span class="op">)</span></span>
<span><span class="va">plot_obj</span> <span class="op">&lt;-</span> <span class="fu">caugi</span><span class="fu">::</span><span class="fu"><a href="https://caugi.org/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cg</span>, node_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tikz_caugi_snippet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_tikz.html">make_tikz</a></span><span class="op">(</span><span class="va">plot_obj</span>, scale <span class="op">=</span> <span class="fl">10</span>, full_doc <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tikz%20export%20caugi-1.png" class="r-plt" alt="" width="700"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">tikz_caugi_snippet</span><span class="op">)</span></span>
<span><span class="co">#&gt; %%% Generated by causalDisco (version 0.9.5.9049)</span></span>
<span><span class="co">#&gt; \tikzset{every node/.style={fill=red}}</span></span>
<span><span class="co">#&gt; \tikzset{arrows={[scale=3]}, arrow/.style={-{Stealth}, thick}}</span></span>
<span><span class="co">#&gt; \begin{tikzpicture}</span></span>
<span><span class="co">#&gt; \node[draw, circle] (A) at (5,0) {A};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (B) at (10,10) {B};</span></span>
<span><span class="co">#&gt; \node[draw, circle] (C) at (0,10) {C};</span></span>
<span><span class="co">#&gt; \path (A) edge[, -Latex] (B)</span></span>
<span><span class="co">#&gt;       (A) edge[, -Latex] (C);</span></span>
<span><span class="co">#&gt; \end{tikzpicture}</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bjarke Hautop Kristensen, Frederik Fabricius-Bjerre, Anne Helby Petersen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
