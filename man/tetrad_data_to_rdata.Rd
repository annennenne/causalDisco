% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tetrad_rdata_utils.R
\name{tetrad_data_to_rdata}
\alias{tetrad_data_to_rdata}
\title{Convert a Tetrad Java DataSet to an R data frame}
\usage{
tetrad_data_to_rdata(data)
}
\arguments{
\item{data}{A Java object of class \code{edu.cmu.tetrad.data.DataSet}.}
}
\value{
A data frame with the same dimensions and names as \code{data}.
}
\description{
Converts a Tetrad \code{DataSet} (Java) into a base R data frame, preserving
variable names and mapping variable kinds to matching R types.
}
\details{
Continuous variables become \code{double}, discrete variables become \code{integer}.
Missing values (\code{null}, \code{Double.NaN}, or \code{Integer.MIN_VALUE}) are converted
to the corresponding typed \code{NA}. Unknown variable kinds fall back to
character with \code{NA_character_} for missing entries.

The JVM must be initialized and Tetrad classes available on the class path.
}
\examples{
### rdata_to_tetrad() / tetrad_data_to_rdata() example ###

# Requires tetrad to be installed
if (check_tetrad_install()$installed || check_tetrad_install()$java_ok) {
  set.seed(42)
  df <- data.frame(
    cont = rnorm(6),
    disc = as.integer(sample(0:2, 6, replace = TRUE))
  )

  # R -> Tetrad (DataSet)
  jds <- rdata_to_tetrad(df, int_cols_as_cont = FALSE)
  rJava::.jinstanceof(jds, "edu/cmu/tetrad/data/DataSet") # should be TRUE

  # Tetrad (DataSet) -> R
  df_roundtrip <- tetrad_data_to_rdata(jds)
  str(df_roundtrip)

  # Check types are preserved: cont is numeric (double), disc is integer
  stopifnot(is.numeric(df_roundtrip$cont), is.integer(df_roundtrip$disc))

  # Values should match (up to numeric tolerance)
  stopifnot(all.equal(df$cont, df_roundtrip$cont))
  stopifnot(identical(df$disc, df_roundtrip$disc))
}
}
